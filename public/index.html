<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>宇轩阁</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="不靠谱学长">
<meta property="og:type" content="website">
<meta property="og:title" content="宇轩阁">
<meta property="og:url" content="https://itbugs.cn/index.html">
<meta property="og:site_name" content="宇轩阁">
<meta property="og:description" content="不靠谱学长">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="宇轩阁">
<meta name="twitter:description" content="不靠谱学长">
  
    <link rel="alternate" href="/atom.xml" title="宇轩阁" type="application/atom+xml">
  
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/plugin/bganimation/bg.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <div class="outer">
        <div class="widget-wrap mobile-header">
  <h3 class="widget-title"></h3>
  <div class="widget">
    <img class="avatar" src="https://shell.itbugs.cn/images/blog/qiuzhang.jpg">
    <h2 class="author">yuxuan</h2>
    <h3 class="description">不靠谱学长</h3>
    <div class="count-box">
      <a href="/archives"><div><strong>49</strong><br>文章</div></a>
      <a href="/categories"><div><strong>3</strong><br>分类</div></a>
      <a href="/tags"><div><strong>0</strong><br>标签</div></a>
    </div>
    <ul class="blog-link">
     
          <a href="/" title="Home">
            <li>主页</li>
          </a>
        
          <a href="/archives" title="Archives">
            <li>归档</li>
          </a>
        
          <a href="/categories" title="Categories">
            <li>分类</li>
          </a>
        
          <a href="/tags" title="Tags">
            <li>标签</li>
          </a>
        
    </ul>
  </div>
</div>

        <section id="main">
  
    <article id="post-hello-world" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/05/14/hello-world/" class="article-date">
  <time class="post-time" datetime="2017-05-14T09:38:22.000Z" itemprop="datePublished">
    <span class="post-month">5月</span><br/>
    <span class="post-day">14</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/05/14/hello-world/">Hello World</a>
    </h1>
  

        <div>
          
          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo new <span class="string">"My New Post Pages"</span></div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo deploy</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://itbugs.cn/2017/05/14/hello-world/" data-id="cj4r5cq9j0014c3wyy3g2mq82" class="article-share-link">分享</a>
      
      
    </footer>
  </div>
  
</article>




  
    <article id="post-centos6-lnmp-gitlab-ce" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/02/21/centos6-lnmp-gitlab-ce/" class="article-date">
  <time class="post-time" datetime="2017-02-21T02:25:04.000Z" itemprop="datePublished">
    <span class="post-month">2月</span><br/>
    <span class="post-day">21</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/02/21/centos6-lnmp-gitlab-ce/">centos6基于LNMP搭建gitlab ce教程</a>
    </h1>
  

        <div>
          
  <div class="article-category">
    <a class="article-category-link" href="/categories/技术点滴/">技术点滴</a>
  </div>

          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>最近需要使用<code>gitlab</code>在内网进行版本管理，整了一台centos的服务器，版本6.8，因为已有LNMP存在，不想再使用gitlab自带的nginx配置，所以搜了一下教程，基本基于centos7的比较多，命令等执行起来多有失败，好在都解决了，所以整理了下centos6的安装方法，以备后用。</p>
<h2 id="1、GitLab安装简介："><a href="#1、GitLab安装简介：" class="headerlink" title="1、GitLab安装简介："></a>1、GitLab安装简介：</h2><p><a href="https://about.gitlab.com/downloads/" target="_blank" rel="external">GitLab安装说明</a>，按照官方的安装说明进行安装。</p>
<h2 id="2、开始安装GitLab："><a href="#2、开始安装GitLab：" class="headerlink" title="2、开始安装GitLab："></a>2、开始安装GitLab：</h2><p>官方命令执行安装必备依赖<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">sudo yum install curl openssh-server openssh-clients postfix cronie</div><div class="line">sudo service postfix start</div><div class="line">sudo chkconfig postfix on</div><div class="line">sudo lokkit <span class="_">-s</span> http <span class="_">-s</span> ssh</div></pre></td></tr></table></figure></p>
<p>安装完依赖之后开始正式安装gitlab，官方给出两种安装方式，这里我们使用<a href="https://mirror.tuna.tsinghua.edu.cn/help/gitlab-ce/" target="_blank" rel="external">清华镜像站</a>的源，选择指定yum源的方式进行安装</p>
<p>新建 <code>/etc/yum.repos.d/gitlab-ce.repo</code>，内容为</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">[gitlab-ce]</div><div class="line">name=gitlab-ce</div><div class="line">baseurl=http://mirrors.tuna.tsinghua.edu.cn/gitlab-ce/yum/el6</div><div class="line">repo_gpgcheck=0</div><div class="line">gpgcheck=0</div><div class="line">enabled=1</div><div class="line">gpgkey=https://packages.gitlab.com/gpg.key</div></pre></td></tr></table></figure>
<p>再执行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">sudo yum makecache</div><div class="line">sudo yum install gitlab-ce</div></pre></td></tr></table></figure>
<p>一般情况下，不使用原有的LNMP环境的话，gitlab已经安装完成了，只需要执行<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo gitlab-ctl reconfigure</div></pre></td></tr></table></figure></p>
<p>就可以直接启动gitlab了。</p>
<p>如果要基于LNMP的话，就需要对gitlab的默认配置进行修改<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">vi /etc/gitlab/gitlab.rb</div></pre></td></tr></table></figure></p>
<p>打开文件后，找到下面三处位置进行如下修改，有没启用的，需要自行删除前面的#<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># note the 'https' below</span></div><div class="line">external_url <span class="string">'https://域名orIP'</span></div><div class="line"></div><div class="line"><span class="comment"># Set the web server</span></div><div class="line">web_server[<span class="string">'external_users'</span>] = [<span class="string">'www'</span>]</div><div class="line"></div><div class="line"><span class="comment"># Disable the built-in nginx</span></div><div class="line">nginx[<span class="string">'enable'</span>] = <span class="literal">false</span></div></pre></td></tr></table></figure></p>
<p>修改完成后开始配置nginx<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">vi /usr/<span class="built_in">local</span>/nginx/conf/vhost/gitlab.conf</div></pre></td></tr></table></figure></p>
<p>创建新文件，内容如下，部分地方需要修改<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line"><span class="comment">## GitLab ##</span></div><div class="line"><span class="comment">## Modified from nginx http version</span></div><div class="line"><span class="comment">## Modified from http://blog.phusion.nl/2012/04/21/tutorial-setting-up-gitlab-on-debian-6/</span></div><div class="line"><span class="comment">## Modified from https://raymii.org/s/tutorials/Strong_SSL_Security_On_nginx.html ##</span></div><div class="line"><span class="comment">## Lines starting with two hashes (##) are comments with information.</span></div><div class="line"><span class="comment">## Lines starting with one hash (#) are configuration parameters that can be uncommented. ##</span></div><div class="line"><span class="comment">################################## ## CONTRIBUTING ## ##################################</span></div><div class="line"><span class="comment">## ## If you change this file in a Merge Request, please also create</span></div><div class="line"><span class="comment">## a Merge Request on https://gitlab.com/gitlab-org/omnibus-gitlab/merge_requests ##</span></div><div class="line"><span class="comment">################################### ## configuration ## ################################### ##</span></div><div class="line"><span class="comment">## See installation.md#using-https for additional HTTPS configuration details.</span></div><div class="line">upstream gitlab-workhorse &#123;</div><div class="line">  server unix:/var/opt/gitlab/gitlab-workhorse/socket fail_timeout=0;</div><div class="line">&#125;</div><div class="line"><span class="comment">## HTTPS host</span></div><div class="line">server &#123;</div><div class="line">  listen 80;</div><div class="line">  listen 443 ssl;</div><div class="line">  server_name 域名 or IP; <span class="comment">## Replace this with something like gitlab.example.com</span></div><div class="line">  server_tokens off; <span class="comment">## Don't show the nginx version number, a security best practice</span></div><div class="line">  root /opt/gitlab/embedded/service/gitlab-rails/public;</div><div class="line">  include ssl.conf;</div><div class="line">  access_log /tmp/gitlab.access.log;</div><div class="line">  error_log /tmp/gitlab.error.log;</div><div class="line">  location / &#123;</div><div class="line">    client_max_body_size 0;</div><div class="line">    gzip off;</div><div class="line"></div><div class="line">    <span class="comment">## https://github.com/gitlabhq/gitlabhq/issues/694</span></div><div class="line">    <span class="comment">## Some requests take more than 30 seconds.</span></div><div class="line">    proxy_read_timeout 300;</div><div class="line">    proxy_connect_timeout 300;</div><div class="line">    proxy_redirect off;</div><div class="line">    proxy_http_version 1.1;</div><div class="line">    proxy_set_header Host <span class="variable">$http_host</span>;</div><div class="line">    proxy_set_header X-Real-IP <span class="variable">$remote_addr</span>;</div><div class="line">    proxy_set_header X-Forwarded-Ssl on;</div><div class="line">    proxy_set_header X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</div><div class="line">    proxy_set_header X-Forwarded-Proto <span class="variable">$scheme</span>;</div><div class="line">    proxy_pass http:&lt;span class=<span class="string">"hljs-regexp"</span>&gt;//gitlab-workhorse;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>其中所需要的<code>ssl.conf</code>文件 需要单独创建</p>
<p>内容如下<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">ssl on;</div><div class="line">add_header Strict-Transport-Security <span class="string">"max-age=31536000;includeSubdomains; preload;"</span>;</div><div class="line">ssl_certificate /usr/<span class="built_in">local</span>/nginx/conf/1_xxx.com.crt;</div><div class="line">ssl_certificate_key /usr/<span class="built_in">local</span>/nginx/conf/ssl.key;</div><div class="line">ssl_protocols TLSv1 TLSv1.1 TLSv1.2;</div><div class="line">ssl_ciphers ALL:!DH:!EXPORT:!RC4:+HIGH:+MEDIUM:!LOW:!aNULL:!eNULL;</div><div class="line">ssl_session_cache shared:SSL:20m;</div><div class="line">ssl_session_timeout 20m;</div></pre></td></tr></table></figure></p>
<p>文件中的<br><code>.crt</code>和<code>.key</code>文件需要自行去证书网站签发</p>
<p>上面文件准备好之后，</p>
<p>执行<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo gitlab-ctl reconfigure</div></pre></td></tr></table></figure></p>
<p>使gitlab配置生效（每次更改配置都需要执行才能生效）</p>
<p>重启Nginx使配置生效</p>
<p>重启后访问刚才配置的server_name 就可以看见界面了</p>
<p>首次登陆需要设置root用户的密码，设置完成后就可以正常使用了</p>
<h2 id="3、GitLab几个坑："><a href="#3、GitLab几个坑：" class="headerlink" title="3、GitLab几个坑："></a>3、GitLab几个坑：</h2><ol>
<li><p>很多时候我们安装完成，创建完项目会发现，系统给出的git clone的地址不对，有的时候是域名不对，有的时候是协议不对，这个时候就需要修改<code>vi  /etc/gitlab/gitlab.rb</code>中的 <code>gitlab_rails[&#39;gitlab_ssh_host&#39;] = &#39;域名 or IP&#39;</code>，修改完成后执行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo gitlab-ctl reconfigure</div></pre></td></tr></table></figure>
</li>
<li><p>如果你在上一步ssl证书的地方使用了不被认可的证书，使用git拉取代码的时候会报错<br><code>SSL: no alternative certificate subject name matches target host name &#39;192.168.22.15&#39;</code><br>这个时候需要执行clone命令之前先执行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">env GIT_SSL_NO_VERIFY=<span class="literal">true</span></div></pre></td></tr></table></figure>
</li>
</ol>
<p>来忽略ssl警告，拉取完代码之后在当前仓库执行<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git config http.sslVerify &lt;span class=<span class="string">"string"</span>&gt;<span class="string">"false"</span></div></pre></td></tr></table></figure></p>
<p>可以对当前仓库永久忽略警告。</p>
<p>参考资料：<br><a href="http://blog.csdn.net/w670328683/article/details/50736977" target="_blank" rel="external">http://blog.csdn.net/w670328683/article/details/50736977</a><br><a href="http://schnell18.iteye.com/blog/2031397" target="_blank" rel="external">http://schnell18.iteye.com/blog/2031397</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://itbugs.cn/2017/02/21/centos6-lnmp-gitlab-ce/" data-id="cj4r5cq8i0007c3wybv2r5259" class="article-share-link">分享</a>
      
      
    </footer>
  </div>
  
</article>




  
    <article id="post-nodejs-e8-8e-b7-e5-8f-96-e6-96-87-e4-bb-b6-e4-be-9d-e8-b5-96" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/08/26/nodejs-e8-8e-b7-e5-8f-96-e6-96-87-e4-bb-b6-e4-be-9d-e8-b5-96/" class="article-date">
  <time class="post-time" datetime="2016-08-26T05:37:43.000Z" itemprop="datePublished">
    <span class="post-month">8月</span><br/>
    <span class="post-day">26</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/26/nodejs-e8-8e-b7-e5-8f-96-e6-96-87-e4-bb-b6-e4-be-9d-e8-b5-96/">nodejs获取文件依赖</a>
    </h1>
  

        <div>
          
  <div class="article-category">
    <a class="article-category-link" href="/categories/技术点滴/">技术点滴</a>
  </div>

          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>主要用来获取 require()形式依赖正则可自己修改支持其他<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line"> * nodejs 获取文件依赖</div><div class="line"> * 获取 require()形式依赖</div><div class="line"> */</div><div class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">"fs"</span>);</div><div class="line"><span class="comment">// 入口文件</span></div><div class="line"><span class="keyword">var</span> jsMap = [<span class="string">"jobs/client/macSearchResult.js"</span>];</div><div class="line"><span class="keyword">var</span> num = <span class="number">0</span>;</div><div class="line"><span class="keyword">var</span> max = <span class="number">0</span>;</div><div class="line"><span class="keyword">var</span> count = <span class="number">0</span>;</div><div class="line"><span class="keyword">var</span> addMap = [];</div><div class="line"><span class="keyword">var</span> pathMap = &#123;&#125;;</div><div class="line">setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">	readJs(jsMap[num])</div><div class="line">&#125;, <span class="number">1000</span>)</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">readJs</span>(<span class="params">url</span>) </span>&#123;</div><div class="line">	pathMap = pathSplicing(url.split(<span class="string">'/'</span>));</div><div class="line">	writeFiles(<span class="string">'\n'</span> + pathMap.fileName + <span class="string">'文件引用:(路径：'</span> + pathMap.basePath + <span class="string">')'</span>)</div><div class="line">	fs.readFile(url, <span class="string">"utf8"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">error, data</span>) </span>&#123;</div><div class="line">		<span class="keyword">if</span> (error) <span class="keyword">throw</span> error;</div><div class="line">		data = data.match(<span class="regexp">/require\((.*)\)/g</span>);</div><div class="line">		<span class="built_in">console</span>.log(data);</div><div class="line">		<span class="keyword">if</span> (!data) &#123;</div><div class="line">			<span class="keyword">if</span> (count == addMap.length) &#123;</div><div class="line">				<span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">			&#125;</div><div class="line">			setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">				readJs(addMap[count])</div><div class="line">				count++</div><div class="line">			&#125;, <span class="number">3000</span>)</div><div class="line">		&#125; <span class="keyword">else</span> &#123;</div><div class="line">			max = data.length - <span class="number">1</span>;</div><div class="line">			data.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">v, i</span>) </span>&#123;</div><div class="line">				(<span class="function"><span class="keyword">function</span>(<span class="params">v, i</span>) </span>&#123;</div><div class="line">					setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">						<span class="keyword">if</span> (i == max) &#123;</div><div class="line">							writeFiles(v, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">								<span class="keyword">if</span> (num == jsMap.length - <span class="number">1</span>) &#123;</div><div class="line">									<span class="keyword">if</span> (count == addMap.length) &#123;</div><div class="line">										<span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">									&#125;</div><div class="line">									<span class="built_in">console</span>.log(addMap)</div><div class="line">									setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">										readJs(addMap[count])</div><div class="line">										count++</div><div class="line">									&#125;, <span class="number">3000</span>)</div><div class="line">								&#125; <span class="keyword">else</span> &#123;</div><div class="line">									num++</div><div class="line">									setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">										readJs(jsMap[num])</div><div class="line">									&#125;, <span class="number">3000</span>)</div><div class="line">								&#125;</div><div class="line">							&#125;);</div><div class="line">						&#125; <span class="keyword">else</span> &#123;</div><div class="line">							writeFiles(v);</div><div class="line">						&#125;</div><div class="line">					&#125;, i * <span class="number">1000</span>)</div><div class="line">				&#125;)(v, i);</div><div class="line">			&#125;)</div><div class="line">		&#125;</div><div class="line">	&#125;);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">writeFiles</span>(<span class="params">txt, cb</span>) </span>&#123;</div><div class="line">	fs.readFile(<span class="string">"bb.txt"</span>, <span class="string">"utf8"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">error, data</span>) </span>&#123;</div><div class="line">		<span class="keyword">if</span> (error) <span class="keyword">throw</span> error;</div><div class="line">		txt = txt.replace(<span class="regexp">/\"/g</span>, <span class="string">"'"</span>)</div><div class="line">		<span class="keyword">var</span> saveTxt = txt.split(<span class="string">"'"</span>)[<span class="number">1</span>];</div><div class="line"></div><div class="line">		<span class="keyword">if</span> (!saveTxt) &#123;</div><div class="line">			saveTxt = txt;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">var</span> patt1 = <span class="keyword">new</span> <span class="built_in">RegExp</span>(saveTxt);</div><div class="line">		<span class="keyword">if</span> (!patt1.test(data)) &#123;</div><div class="line">			<span class="keyword">var</span> text = data + <span class="string">'\n'</span> + saveTxt;</div><div class="line">			<span class="keyword">if</span> (data) &#123;</div><div class="line">				fs.writeFile(<span class="string">"bb.txt"</span>, text, <span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</div><div class="line">					<span class="keyword">if</span> (err) <span class="keyword">throw</span> err;</div><div class="line">					<span class="built_in">console</span>.log(<span class="string">"File Saved !"</span>); <span class="comment">//文件被保存</span></div><div class="line">					<span class="keyword">if</span> (!<span class="regexp">/文件引用/</span>.test(saveTxt)) &#123;</div><div class="line">						addMap.push(pathMap.basePath + saveTxt + <span class="string">'.js'</span>);</div><div class="line">					&#125;</div><div class="line">					<span class="keyword">if</span> (cb) &#123;</div><div class="line">						cb()</div><div class="line">					&#125;</div><div class="line">				&#125;);</div><div class="line">			&#125; <span class="keyword">else</span> &#123;</div><div class="line">				<span class="built_in">console</span>.log(<span class="string">'\n'</span> + saveTxt + <span class="string">'未保存\n'</span>)</div><div class="line">			&#125;</div><div class="line">		&#125; <span class="keyword">else</span> &#123;</div><div class="line">			<span class="built_in">console</span>.log(<span class="string">'文件已存在！'</span>)</div><div class="line">			<span class="keyword">if</span> (cb) &#123;</div><div class="line">				cb()</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line"></div><div class="line">	&#125;);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">pathSplicing</span>(<span class="params">data</span>) </span>&#123;</div><div class="line">	<span class="keyword">var</span> basePath = <span class="string">''</span>;</div><div class="line">	data.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">v, i</span>) </span>&#123;</div><div class="line">		<span class="keyword">if</span> (i != data.length - <span class="number">1</span>) &#123;</div><div class="line">			basePath = basePath + v + <span class="string">'/'</span></div><div class="line">		&#125;</div><div class="line">	&#125;)</div><div class="line">	<span class="keyword">return</span> &#123;</div><div class="line">		<span class="attr">basePath</span>: basePath,</div><div class="line">		<span class="attr">fileName</span>: data.pop(),</div><div class="line">		<span class="attr">length</span>: data.length - <span class="number">1</span></div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://itbugs.cn/2016/08/26/nodejs-e8-8e-b7-e5-8f-96-e6-96-87-e4-bb-b6-e4-be-9d-e8-b5-96/" data-id="cj4r5cqac001xc3wy6ho90t1v" class="article-share-link">分享</a>
      
      
    </footer>
  </div>
  
</article>




  
    <article id="post-calendar" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/08/26/calendar/" class="article-date">
  <time class="post-time" datetime="2016-08-26T04:07:46.000Z" itemprop="datePublished">
    <span class="post-month">8月</span><br/>
    <span class="post-day">26</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/26/calendar/">简单的js日历实现</a>
    </h1>
  

        <div>
          
  <div class="article-category">
    <a class="article-category-link" href="/categories/技术点滴/">技术点滴</a>
  </div>

          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>一个简单的js日历，支持展示当月以及任意月份展示</p>
<pre><code class="html"><span class="meta">&lt;!DOCTYPE html&gt;</span>
<span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span>
<span class="tag">&lt;<span class="name">head</span>&gt;</span>
  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span>
  <span class="tag">&lt;<span class="name">title</span>&gt;</span>日历<span class="tag">&lt;/<span class="name">title</span>&gt;</span>
<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"http://lib.snowos.cn/jquery.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>
<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="javascript">
$(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{
  $(<span class="string">'body'</span>).append(<span class="string">'&lt;div class="dateMap popover bottom"&gt;'</span>
    +<span class="string">'&lt;div class="arrow"&gt;&lt;/div&gt;'</span>
    +<span class="string">'&lt;h3 class="popover-title"&gt;'</span>
      +<span class="string">'&lt;select class="time_year"&gt;&lt;/select&gt;'</span>
      +<span class="string">'&lt;span&gt;年&lt;/span&gt;'</span>
      +<span class="string">'&lt;select class="time_month"&gt;&lt;/select&gt;'</span>
      +<span class="string">'&lt;span&gt;月&lt;/span&gt;'</span>
      +<span class="string">'&lt;input class="time_hour" type="time"&gt;'</span>
    +<span class="string">'&lt;/h3&gt;'</span>
    +<span class="string">'&lt;div class="popover-content"&gt;'</span>
    +<span class="string">'&lt;div class="month-box"&gt;'</span>
      +<span class="string">'&lt;ul class="week-title"&gt;&lt;/ul&gt;'</span>
      +<span class="string">'&lt;ul class="day-box"&gt;&lt;/ul&gt;'</span>
    +<span class="string">'&lt;/div&gt;'</span> 
  +<span class="string">'&lt;/div&gt;'</span>
  +<span class="string">'&lt;/div&gt;'</span>);
  <span class="keyword">var</span> bigMonth = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">10</span>, <span class="number">12</span>];
  <span class="keyword">var</span> weekMap = [<span class="string">'日'</span>,<span class="string">'一'</span>,<span class="string">'二'</span>,<span class="string">'三'</span>,<span class="string">'四'</span>,<span class="string">'五'</span>,<span class="string">'六'</span>];
  <span class="keyword">var</span> time = <span class="keyword">new</span> <span class="built_in">Date</span>();
  <span class="keyword">var</span> year = time.getFullYear();
  <span class="keyword">var</span> month = time.getMonth() + <span class="number">1</span>;
  <span class="keyword">var</span> today = time.getDate();
  <span class="keyword">var</span> hour = time.getHours();
  <span class="keyword">if</span> (<span class="built_in">parseInt</span>(hour) &lt; <span class="number">10</span>) {
    hour = <span class="string">"0"</span> + hour;
  } 
  <span class="keyword">var</span> min = time.getMinutes();
  <span class="keyword">if</span> (<span class="built_in">parseInt</span>(min) &lt; <span class="number">10</span>) {
    min = <span class="string">"0"</span> + min;
  } 
  $(<span class="string">'.time_hour'</span>).val(hour +<span class="string">":"</span> + min);
  weekMap.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">v</span>) </span>{
    $(<span class="string">'.week-title'</span>).append(<span class="string">'&lt;li&gt;'</span>+ v +<span class="string">'&lt;/li&gt;'</span>);
  })
  <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">2000</span>; i &lt; <span class="number">2050</span>; i++) {
    <span class="keyword">if</span> (i == year) {
      $(<span class="string">'.time_year'</span>).append(<span class="string">'&lt;option value="'</span>+ i +<span class="string">'" selected="true"&gt;'</span>+ i +<span class="string">'&lt;/option&gt;'</span>)
    } <span class="keyword">else</span> {
      $(<span class="string">'.time_year'</span>).append(<span class="string">'&lt;option value="'</span>+ i +<span class="string">'"&gt;'</span>+ i +<span class="string">'&lt;/option&gt;'</span>);
    }
  }
  <span class="keyword">for</span>(<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; <span class="number">12</span>; j++) {
    <span class="keyword">if</span> (j == month <span class="number">-1</span>) {
      $(<span class="string">'.time_month'</span>).append(<span class="string">'&lt;option value="'</span>+ (j + <span class="number">1</span>) +<span class="string">'" selected="true"&gt;'</span>+ (j + <span class="number">1</span>) +<span class="string">'&lt;/option&gt;'</span>)
    } <span class="keyword">else</span> {
      $(<span class="string">'.time_month'</span>).append(<span class="string">'&lt;option value="'</span>+ (j + <span class="number">1</span>) +<span class="string">'"&gt;'</span>+ (j + <span class="number">1</span>) +<span class="string">'&lt;/option&gt;'</span>);
    }
  }
  dataMap(year, month);
  <span class="function"><span class="keyword">function</span> <span class="title">dataMap</span>(<span class="params">year, month</span>) </span>{
    <span class="comment">// debugger</span>
    $(<span class="string">'.day-box'</span>).empty();
    <span class="keyword">var</span> daysNum = <span class="number">30</span>;
    <span class="keyword">var</span> firstDay = <span class="keyword">new</span> <span class="built_in">Date</span>(year + <span class="string">'-'</span> + month + <span class="string">'-1'</span>);
    <span class="keyword">var</span> firstWeek = firstDay.getDay();
    <span class="keyword">if</span> (bigMonth.indexOf(month) != <span class="number">-1</span>) {
      daysNum = <span class="number">31</span>;
    }
    <span class="keyword">if</span> (month == <span class="number">2</span>) {
      daysNum = (year%<span class="number">400</span> == <span class="number">0</span> ? <span class="literal">true</span> : ((year%<span class="number">4</span> == <span class="number">0</span> &amp;amp;&amp;amp; year%<span class="number">100</span> != <span class="number">0</span>) ? <span class="literal">true</span> : <span class="literal">false</span>)) ? <span class="number">29</span> : <span class="number">28</span>;
    }
    daysNum = daysNum + firstWeek;

    <span class="keyword">for</span>(<span class="keyword">var</span> k = <span class="number">0</span>; k &lt; daysNum; k++) {
      <span class="keyword">if</span> (k &gt;= firstWeek) {
        $(<span class="string">'.day-box'</span>).append(<span class="string">'&lt;li&gt;'</span> + (k - firstWeek + <span class="number">1</span>) + <span class="string">'&lt;/li&gt;'</span>);
      } <span class="keyword">else</span> {
        $(<span class="string">'.day-box'</span>).append(<span class="string">'&lt;li&gt;&lt;/li&gt;'</span>)
      }
    }
  }
  $(<span class="string">'.time_month'</span>).on(<span class="string">'change'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>{
    e.stopPropagation();
    dataMap($(<span class="string">'.time_year'</span>).val(), $(<span class="string">'.time_month'</span>).val());
  });
  $(<span class="string">'.time_year'</span>).on(<span class="string">'change'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>{
    e.stopPropagation();
    dataMap($(<span class="string">'.time_year'</span>).val(), $(<span class="string">'.time_month'</span>).val());
  });
})
</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>
<span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="css">
<span class="selector-class">.month-box</span> {
  <span class="attribute">width</span>: <span class="number">273px</span>;
  <span class="attribute">height</span>: <span class="number">140px</span>;
  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#000</span>;
}
<span class="selector-class">.week-title</span> {
  <span class="attribute">padding</span>: <span class="number">0px</span>;
  <span class="attribute">margin</span>: <span class="number">0px</span>;
  <span class="attribute">height</span>: <span class="number">20px</span>;
  <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#000</span>;
}
<span class="selector-class">.week-title</span> <span class="selector-tag">li</span> {
  <span class="attribute">float</span>: left;
  <span class="attribute">list-style-type</span>: none;
  <span class="attribute">height</span>: <span class="number">20px</span>;
  <span class="attribute">width</span>: <span class="number">39px</span>;
  <span class="attribute">text-align</span>: center;
}
<span class="selector-class">.day-box</span> {
  <span class="attribute">padding</span>: <span class="number">0px</span>;
  <span class="attribute">margin</span>: <span class="number">0px</span>;
}
<span class="selector-class">.day-box</span> <span class="selector-tag">li</span> {
  <span class="attribute">float</span>: left;
  <span class="attribute">list-style-type</span>: none;
  <span class="attribute">height</span>: <span class="number">20px</span>;
  <span class="attribute">width</span>: <span class="number">39px</span>;
  <span class="attribute">text-align</span>: center;
}
</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span>
<span class="tag">&lt;/<span class="name">head</span>&gt;</span>
<span class="tag">&lt;<span class="name">body</span>&gt;</span>   
<span class="tag">&lt;/<span class="name">body</span>&gt;</span>
<span class="tag">&lt;/<span class="name">html</span>&gt;</span>
</code></pre>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://itbugs.cn/2016/08/26/calendar/" data-id="cj4r5cq8g0006c3wyb4ozrek9" class="article-share-link">分享</a>
      
      
    </footer>
  </div>
  
</article>




  
    <article id="post-forever-nodejs" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/06/20/forever-nodejs/" class="article-date">
  <time class="post-time" datetime="2016-06-20T02:40:06.000Z" itemprop="datePublished">
    <span class="post-month">6月</span><br/>
    <span class="post-day">20</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/06/20/forever-nodejs/">使用forever运行nodejs应用</a>
    </h1>
  

        <div>
          
  <div class="article-category">
    <a class="article-category-link" href="/categories/技术点滴/">技术点滴</a>
  </div>

          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>forever可以看做是一个nodejs的守护进程，能够启动，停止，重启我们的app应用。</p>
<p>官方的说明是说：</p>
<p>A simple CLI tool for ensuring that a given script runs continuously (i.e. forever).<br>// 一个用来持续（或者说永远）运行一个给定脚本的简单的命令行工具</p>
<p>Github地址：<code>https://github.com/nodejitsu/forever</code><br>用途</p>
<p>forever的用途就是帮我们更好的管理我们node App服务，本质上就是在forever进程之下，创建一个node app的子进程。</p>
<p>比如，你有一个基于express的或者其他的一些个应用那么，它将会很方便你更新和操作你的服务，并且保证你服务能持续运行。</p>
<p>更好的一点就是每次更改文件，它都可以帮你自动重启服务而不需要手动重启。<br>安装forever<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo npm install forever -g // 记得加-g，forever要求安装到全局环境下</div></pre></td></tr></table></figure></p>
<p>forever使用说明<br>启动相关</p>
<p>1. 简单的启动<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">forever start app.js</div></pre></td></tr></table></figure></p>
<p>2. 指定forever信息输出文件，当然，默认它会放到<code>~/.forever/forever.log</code><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">forever start <span class="_">-l</span> forever.log app.js</div></pre></td></tr></table></figure></p>
<p>3. 指定app.js中的日志信息和错误日志输出文件，<br>  -o 就是console.log输出的信息，<code>-e</code>就是<code>console.error</code>输出的信息<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">forever start -o out.log <span class="_">-e</span> err.log app.js</div></pre></td></tr></table></figure></p>
<p>4. 追加日志，forever默认是不能覆盖上次的启动日志，<br>  所以如果第二次启动不加<code>-a</code>，则会不让运行<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">forever start <span class="_">-l</span> forever.log <span class="_">-a</span> app.js</div></pre></td></tr></table></figure></p>
<p>5. 监听当前文件夹下的所有文件改动<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">forever start -w app.js</div></pre></td></tr></table></figure></p>
<p>文件改动监听并自动重启</p>
<p>1. 监听当前文件夹下的所有文件改动（不太建议这样）<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">forever start -w app.js</div></pre></td></tr></table></figure></p>
<p>2. 显示所有运行的服务<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">forever list</div></pre></td></tr></table></figure></p>
<p>停止操作</p>
<p>1. 停止所有运行的<code>node App</code><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">forever stopall</div></pre></td></tr></table></figure></p>
<p>2. 停止其中一个<code>node App</code><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">forever stop app.js</div></pre></td></tr></table></figure></p>
<p>当然还可以这样<br>  forever list 找到对应的id，然后：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">forever stop [id]</div></pre></td></tr></table></figure></p>
<p>重启操作</p>
<p>重启操作跟停止操作保持一致。</p>
<p>1. 启动所有<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">forever restartall</div></pre></td></tr></table></figure></p>
<p>更多一些</p>
<p>上面的一些解释足够平常使用，还有待之后继续补充。<br>开发和线上建议配置<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">// 开发环境下</div><div class="line">NODE_ENV=development forever start <span class="_">-l</span> forever.log <span class="_">-e</span> err.log <span class="_">-a</span> app.js</div><div class="line">// 线上环境下</div><div class="line">NODE_ENV=production forever start <span class="_">-l</span> ~/.forever/forever.log <span class="_">-e</span> ~/.forever/err.log -w <span class="_">-a</span> app.js</div></pre></td></tr></table></figure></p>
<p>上面加上<code>NODE_ENV</code>为了让<code>app.js</code>辨认当前是什么环境用的。不加它可能就不知道哦？<br>一些注意点</p>
<p>有可能你需要使用unix下的<code>crontab</code>（定时任务）</p>
<p>这个时候需要注意配置好环境变量。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">SHELL=/bin/sh</div><div class="line">PATH=/usr/<span class="built_in">local</span>/sbin:/usr/<span class="built_in">local</span>/bin:/sbin:/bin:/usr/sbin:/usr/bin</div></pre></td></tr></table></figure></p>
<p>后记</p>
<p>毋庸置疑，拥有了Github就拥有了世界。<br>参考</p>
<p><a href="https://github.com/nodejitsu/forever" target="_blank" rel="external">https://github.com/nodejitsu/forever</a><br><a href="http://blog.nodejitsu.com/keep-a-nodejs-server-up-with-forever" target="_blank" rel="external">http://blog.nodejitsu.com/keep-a-nodejs-server-up-with-forever</a><br><a href="https://github.com/nodejitsu/forever/issues/116" target="_blank" rel="external">https://github.com/nodejitsu/forever/issues/116</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://itbugs.cn/2016/06/20/forever-nodejs/" data-id="cj4r5cq9h0012c3wy1ptqv1m6" class="article-share-link">分享</a>
      
      
    </footer>
  </div>
  
</article>




  
    <article id="post-windows-e6-bf-80-e6-b4-bb-e6-95-99-e7-a8-8b-e8-8b-b1-e5-9b-bd-e7-94-b5-e8-af-9d-e6-bf-80-e6-b4-bbwindows-e6-96-b9-e6-b3-95-e6-95-99-e7-a8-8b" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/05/28/windows-e6-bf-80-e6-b4-bb-e6-95-99-e7-a8-8b-e8-8b-b1-e5-9b-bd-e7-94-b5-e8-af-9d-e6-bf-80-e6-b4-bbwindows-e6-96-b9-e6-b3-95-e6-95-99-e7-a8-8b/" class="article-date">
  <time class="post-time" datetime="2016-05-28T15:26:37.000Z" itemprop="datePublished">
    <span class="post-month">5月</span><br/>
    <span class="post-day">28</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/28/windows-e6-bf-80-e6-b4-bb-e6-95-99-e7-a8-8b-e8-8b-b1-e5-9b-bd-e7-94-b5-e8-af-9d-e6-bf-80-e6-b4-bbwindows-e6-96-b9-e6-b3-95-e6-95-99-e7-a8-8b/">windows激活教程|英国电话激活windows方法教程</a>
    </h1>
  

        <div>
          
  <div class="article-category">
    <a class="article-category-link" href="/categories/杂七杂八/">杂七杂八</a>
  </div>

          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Windows专业版电话激活步骤与教程，详细教你如果使用skype免费打英国电话激活Windows。</p>
<p>激活步骤1、打开“命令提示符（管理员）”，通过“管理员：命令提示符“导入激活密匙；导入方法：复制下列命令及密匙粘贴到命令栏里，</p>
<p>回车win8.1专业版激活密钥：slmgr /ipk 4GVN7-G46K6-K9DT4-HJRDD-Y4DG7</p>
<p><strong>友情提示：密匙key有可能已经失效了，自己去百度搜索或者淘宝找</strong></p>
<p>命令栏输入的内容：slmgr /ipk 密匙</p>
<p>&nbsp;</p>
<p>2、完成1之后，紧接着输入命令：sLUI 4 激活电话激活界面， 输入slui 4后弹出的对话框里，地区选择英国，然后你会看到电话号码和你产品的ID，这不是最终ID。不要关掉这个界面，除非你把9组ID全部记下了。</p>
<p><a href="http://itbugs.cn/wp-content/uploads/2016/05/500fd9f9d72a6059d5558a7a2a34349b033bba0d.jpg.png"><img src="http://itbugs.cn/wp-content/uploads/2016/05/500fd9f9d72a6059d5558a7a2a34349b033bba0d.jpg.png" alt="500fd9f9d72a6059d5558a7a2a34349b033bba0d.jpg"></a>3.准备工作：找个能用的外皮恩、下载skype软件登入账号</p>
<p>以下为重点难点</p>
<p>1.使用Skype，地区选择“英国”，然后拨打 8000188354</p>
<p>接通后重点听下面步骤括号内的英文。</p>
<p>2.键入“1”(press 1 as a home user：家庭用户)大约接通后5秒左后。</p>
<p>3.键入“#”(skip any instructions：跳过说明)稍等片刻，等她再次说话时按 # 键，跳过废话。这个比较长些，等10秒吧。</p>
<p>4.键入“ID”(please enter the first group now：输入第一组ID，直到输入完毕)重点听这个单词“first”听到后开始输入第一组序列号。接下来依次提示你输入9组序列号，每输入一组会有提示音“thank ”，如果输入错误会提示重新输入。</p>
<p>5.如果9组数字输入完毕，说了几句直接挂断，则说面你的安装密钥无效，无法激活，听到第6部的那句英文则可继续操作激活。</p>
<p>6.键入“1”(On how many computers is your product currently installed：在几台电脑安装?)问你是否只在一台机子上激活，按 1 后稍等</p>
<p>7.键入“#”(直接跳过说明，客服接着播报激活ID)</p>
<p>——想必不懂英语的朋友也能到达这一步，下面就是“客服”给你激活ID，到这里如果听不懂就不用听了(即：下面步骤省略)，这时计算机右键属性直接尝试联网激活，即可大功告成!我的就是这么激活的。。。</p>
<p>8.记录激活“ID”，重复听请按“*”，继续请按“#”。(Starting with block A)</p>
<p>9.全部记录完毕后，还可以键入“1”再重复听一遍。</p>
<div class="content-list-text"><br><br>4.通过拨打电话机器客服给你的A-H，8组5位数ID，正确输入之后即可激活系统<br><br></div><br>我自己曾尝试过美国电话激活，但是美国电话激活比英国电话激活还要复杂，像我这种英语菜鸟只能选择英国的了。<br><br><a href="http://itbugs.cn/wp-content/uploads/2016/05/f703738da97739121bb7ee01fa198618367ae239.jpg.png"><img src="http://itbugs.cn/wp-content/uploads/2016/05/f703738da97739121bb7ee01fa198618367ae239.jpg.png" alt="f703738da97739121bb7ee01fa198618367ae239.jpg"></a><br><br>&nbsp;<br><br>## 注意事项<br><br><div class="exp-content-body"><br><br><em>   <div class="content-list-text"><br><br>英国电话激活英语对话详解<br><br>Welcome to Microsoft Product Activation.<br><br>（欢迎来到微软产品激活中心）<br><br>Please press 1 as a home user, and 2 if you are a business customer with a volume license agreement.<br><br>(家庭用户请按1，如果你是一个批量许可协议的企业客户请按2）<br><br>To activate, you must have your installation numbers from your activation wizard screen.<br><br>（要激活电脑，你必须要有从电脑的激活向导上得来的激活号码）<br><br>If you are familiar with this process, you may press the hash key to skip any instructions.<br><br>（如果您熟悉这个过程中，你可以按#号键跳过了）<br><br>No personal information is collected during activation.<br><br>（在激活过程中不会收集何个人信息）<br><br>If you have your ID to hand and are ready to proceed, please press the hash key.（如果你的手上有激活ID，并且准备好继续激活，请按 #号键）<br><br>To repeat this message, press the star key.<br><br>（重复此消息，请按 </div></em>号键）<br><br>Please enter the first group now.<br><br>（请输入第一组数字）<br><br>Thank you! And the second group<br><br>谢谢，请输入第二组数字<br><br>Thank you! And the third group<br><br>谢谢，请输入第三组数字<br><br>Thank you! And the fourth group<br><br>谢谢，请输入第四组数字<br><br>Thank you! And the fifth group<br><br>谢谢，请输入第五组数字<br><br>Thank you! And the sixth group<br><br>谢谢，请输入第六组数字<br><br>Thank you! And the Seventh group<br><br>谢谢，请输入第七组数字<br><br>Thank you! Now enter the eighth group<br><br>谢谢，现在，请输入第八组数字<br><br>Thank you! To finish ,enter the final group<br><br>谢谢，请输入 最后一组组数字 以完成输入<br><br>Please wait while your confirmation number is generated.<br><br>（请稍候，您的激活码正在生成）<br><br>接下来我这会有两种情况：<br><br>(1) Key 失效的情况。<br><br>请更换Key。We are unable to activate your product.<br><br>（我们无法激活您的产品 ）<br><br>It is possible that you are a victim of software piracy.<br><br>（您可能是盗版软件的受害者。）<br><br>In order to check if your product is original, please click on the weblink www.microsoft.com/genuine.<br><br>（查询您的产品是否为正版（原版），请登录网址 www.microsoft.com/genuine。）<br><br>To obtain the licensed product，please return to your Microsoft reseller.<br><br>（获取合法（被许可）的产品，请到您的微软经销商。）<br><br>To repeat the message, please press the star key.<br><br>（要重复信息，请按 <em>号键。）<br><br>No entry was detected.<br><br>（没有检测到信息输入）We are now ending your call.<br><br>（现在我们结束您的电话）<br><br>(2) Key 有效的情况<br><br>On how many computers is your product currently installed?<br><br>（您的激活密钥安装在了几台电脑上？）<br><br>Press One if you have installed this product on one computer.<br><br>（如果您把这个密钥安装在一台电脑上，请按1）<br><br>Press Two if you have install this product on more than one computer.<br><br>（如果您不只把这个密钥安装在一台电脑上，请按2）<br><br>听到这里，按1<br><br>We will now continue to activate your product.<br><br>(现在，我们将继续以激活您的产品)<br><br>Your entry was accepted, now you will hear the confirmation ID readout.<br><br>（你输入的数据被接受了，现在你将听到 确认ID）<br><br>Starting with block A.（从A组开始）<br><br>Please either insert this number into the empty blocks at the bottom of your activation wizard, or write this number down for immediate entry into the activation wizard at the end of this call.<br><br>（请为您激活向导（图12）底部的空块插入这些数字；或者记下这些数字，在通话结束时立即进入激活向导。）<br><br>To hear this message again, please press the star key.<br><br>（重听一遍这个消息，请按 </em>号键。）<br><br>For help, press 0.<br><br>（如需帮助，请按0）<br><br>Here is Block A : <strong>**</strong> A组注册码<br><br>To continue press the hash key.<br><br>（要继续，请按 #号键）<br><br>To repeat the last block press the star key.<br><br>（要重复，请按 <em>号键）<br><br>Here isBlock A : <strong>**</strong>To continue press the hash key.<br><br>（要继续，请按 #号键）<br><br>第二遍A组数据<br><br>To repeat the last block press the star key.<br><br>（要重复，请按 </em>号键）<br><br>Block B <strong>**</strong> B组注册码<br><br>To continue press the hash key.<br><br>（要继续，请按 #号键）<br><br>To repeat the last block press the star key.<br><br>（要重复，请按 <em>号键）<br><br>Block B <strong>**</strong><br><br>To continue press the hash key.<br><br>第二遍B组数据（要继续，请按 #号键）<br><br>To repeat the last block press the star key.<br><br>（要重复，请按 </em>号键）<br><br>。。。。。。 。。。。。。 。。。。。。 。。。。。。 。。。。。。<br><br>Block H <strong><em>*</em></strong> H组注册码<br><br>To continue press the hash key.<br><br>（要继续，请按 #号键）<br><br>To repeat the last block press the star key.<br><br>（要重复，请按 <em>号键）Block H <strong>**</strong></em><br><br>To continue press the hash key.<br><br>第二遍H组数据（要继续，请按 #号键）<br><br>To repeat the last block press the star key.<br><br>（要重复，请按 <em>号键）<br><br>To complete, click the next button at the bottom of your activation window, then click finish.<br><br>(要完成激活，请在您激活窗口（图12）的底部，单击“下一步”按钮，然后单击“完成”)<br><br>If you wish to hear your entire confirmation ID again, press 1.<br><br>（如果你想再听一遍你的确认ID，请按1）<br><br>Otherwise, thank you for calling Microsoft. Goodbye.<br><br>（感谢您致电微软，再见！）<br><br>到这里，按1 重听<br><br>Here is Block A <strong>**</strong><br><br>Block B <strong>*</strong></em><br><br></div><br>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://itbugs.cn/2016/05/28/windows-e6-bf-80-e6-b4-bb-e6-95-99-e7-a8-8b-e8-8b-b1-e5-9b-bd-e7-94-b5-e8-af-9d-e6-bf-80-e6-b4-bbwindows-e6-96-b9-e6-b3-95-e6-95-99-e7-a8-8b/" data-id="cj4r5cqb3002rc3wyfb5abvox" class="article-share-link">分享</a>
      
      
    </footer>
  </div>
  
</article>




  
    <article id="post-196" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/04/22/196/" class="article-date">
  <time class="post-time" datetime="2016-04-22T08:05:55.000Z" itemprop="datePublished">
    <span class="post-month">4月</span><br/>
    <span class="post-day">22</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/04/22/196/">20个正则表达式</a>
    </h1>
  

        <div>
          
  <div class="article-category">
    <a class="article-category-link" href="/categories/技术点滴/">技术点滴</a>
  </div>

          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="1-校验密码强度"><a href="#1-校验密码强度" class="headerlink" title="1 . 校验密码强度"></a>1 . 校验密码强度</h3><p>密码的强度必须是包含大小写字母和数字的组合，不能使用特殊字符，长度在8-10之间。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).&#123;8,10&#125;$</div></pre></td></tr></table></figure>
<h3 id="2-校验中文"><a href="#2-校验中文" class="headerlink" title="2. 校验中文"></a>2. 校验中文</h3><p>字符串仅能是中文。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^[\\u4e00-\\u9fa5]&#123;0,&#125;$</div></pre></td></tr></table></figure></p>
<h3 id="3-由数字、26个英文字母或下划线组成的字符串"><a href="#3-由数字、26个英文字母或下划线组成的字符串" class="headerlink" title="3. 由数字、26个英文字母或下划线组成的字符串"></a>3. 由数字、26个英文字母或下划线组成的字符串</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^\\w+$</div></pre></td></tr></table></figure>
<h3 id="4-校验E-Mail-地址"><a href="#4-校验E-Mail-地址" class="headerlink" title="4. 校验E-Mail 地址"></a>4. 校验E-Mail 地址</h3><p>同密码一样，下面是E-mail地址合规性的正则检查语句<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[\\w!#$%&amp;&apos;*+/=?^_`&#123;¦&#125;~-]+(?:\\.[\\w!#$%&amp;&apos;*+/=?^_`&#123;¦&#125;~-]+)*@(?:[\\w](?:[\\w-]*[\\w])?\\.)+[\\w](?:[\\w-]*[\\w])?</div></pre></td></tr></table></figure></p>
<h3 id="5-校验身份证号码"><a href="#5-校验身份证号码" class="headerlink" title="5. 校验身份证号码"></a>5. 校验身份证号码</h3><p>下面是身份证号码的正则校验。15 或 18位。</p>
<p>15位：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^[1-9]\\d&#123;7&#125;((0\\d)¦(1[0-2]))(([0¦1¦2]\\d)¦3[0-1])\\d&#123;3&#125;$</div></pre></td></tr></table></figure></p>
<p>18位：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^[1-9]\\d&#123;5&#125;[1-9]\\d&#123;3&#125;((0\\d)¦(1[0-2]))(([0¦1¦2]\\d)¦3[0-1])\\d&#123;3&#125;([0-9]¦X)$</div></pre></td></tr></table></figure></p>
<h3 id="6-校验日期-“yyyy-mm-dd“-格式的日期校验，已考虑平闰年。"><a href="#6-校验日期-“yyyy-mm-dd“-格式的日期校验，已考虑平闰年。" class="headerlink" title="6. 校验日期 “yyyy-mm-dd“ 格式的日期校验，已考虑平闰年。"></a>6. 校验日期 “yyyy-mm-dd“ 格式的日期校验，已考虑平闰年。</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^(?:(?!0000)[0-9]&#123;4&#125;-(?:(?:0[1-9]¦1[0-2])-(?:0[1-9]¦1[0-9]¦2[0-8])¦(?:0[13-9]¦1[0-2])-(?:29¦30)¦(?:0[13578]¦1[02])-31)¦(?:[0-9]&#123;2&#125;(?:0[48]¦[2468][048]¦[13579][26])¦(?:0[48]¦[2468][048]¦[13579][26])00)-02-29)$</div></pre></td></tr></table></figure>
<h3 id="7-校验金额"><a href="#7-校验金额" class="headerlink" title="7. 校验金额"></a>7. 校验金额</h3><p>金额校验，精确到2位小数。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^[0-9]+(.[0-9]&#123;2&#125;)?$</div></pre></td></tr></table></figure></p>
<h3 id="8-校验手机号"><a href="#8-校验手机号" class="headerlink" title="8. 校验手机号"></a>8. 校验手机号</h3><p>下面是国内 13、15、18开头的手机号正则表达式。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^(13[0-9]¦14[5¦7]¦15[0¦1¦2¦3¦5¦6¦7¦8¦9]¦18[0¦1¦2¦3¦5¦6¦7¦8¦9])\\d&#123;8&#125;$</div></pre></td></tr></table></figure></p>
<h3 id="9-判断IE的版本"><a href="#9-判断IE的版本" class="headerlink" title="9. 判断IE的版本"></a>9. 判断IE的版本</h3><p>IE目前还没被完全取代，很多页面还是需要做版本兼容，下面是IE版本检查的表达式。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^.*MSIE [5-8](?:\\.[0-9]+)?(?!.*Trident\\/[5-9]\\.0).*$</div></pre></td></tr></table></figure></p>
<h3 id="10-校验IP-v4地址"><a href="#10-校验IP-v4地址" class="headerlink" title="10. 校验IP-v4地址"></a>10. 校验IP-v4地址</h3><p>IP4 正则语句。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">\\b(?:(?:25[0-5]¦2[0-4][0-9]¦[01]?[0-9][0-9]?)\\.)&#123;3&#125;(?:25[0-5]¦2[0-4][0-9]¦[01]?[0-9][0-9]?)\\b</div></pre></td></tr></table></figure></p>
<h3 id="11-校验IP-v6地址"><a href="#11-校验IP-v6地址" class="headerlink" title="11. 校验IP-v6地址"></a>11. 校验IP-v6地址</h3><p>IP6 正则语句。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">(([0-9a-fA-F]&#123;1,4&#125;:)&#123;7,7&#125;[0-9a-fA-F]&#123;1,4&#125;¦([0-9a-fA-F]&#123;1,4&#125;:)&#123;1,7&#125;:¦([0-9a-fA-F]&#123;1,4&#125;:)&#123;1,6&#125;:[0-9a-fA-F]&#123;1,4&#125;¦([0-9a-fA-F]&#123;1,4&#125;:)&#123;1,5&#125;(:[0-9a-fA-F]&#123;1,4&#125;)&#123;1,2&#125;¦([0-9a-fA-F]&#123;1,4&#125;:)&#123;1,4&#125;(:[0-9a-fA-F]&#123;1,4&#125;)&#123;1,3&#125;¦([0-9a-fA-F]&#123;1,4&#125;:)&#123;1,3&#125;(:[0-9a-fA-F]&#123;1,4&#125;)&#123;1,4&#125;¦([0-9a-fA-F]&#123;1,4&#125;:)&#123;1,2&#125;(:[0-9a-fA-F]&#123;1,4&#125;)&#123;1,5&#125;¦[0-9a-fA-F]&#123;1,4&#125;:((:[0-9a-fA-F]&#123;1,4&#125;)&#123;1,6&#125;)¦:((:[0-9a-fA-F]&#123;1,4&#125;)&#123;1,7&#125;¦:)¦fe80:(:[0-9a-fA-F]&#123;0,4&#125;)&#123;0,4&#125;%[0-9a-zA-Z]&#123;1,&#125;¦::(ffff(:0&#123;1,4&#125;)&#123;0,1&#125;:)&#123;0,1&#125;((25[0-5]¦(2[0-4]¦1&#123;0,1&#125;[0-9])&#123;0,1&#125;[0-9])\\.)&#123;3,3&#125;(25[0-5]¦(2[0-4]¦1&#123;0,1&#125;[0-9])&#123;0,1&#125;[0-9])¦([0-9a-fA-F]&#123;1,4&#125;:)&#123;1,4&#125;:((25[0-5]¦(2[0-4]¦1&#123;0,1&#125;[0-9])&#123;0,1&#125;[0-9])\\.)&#123;3,3&#125;(25[0-5]¦(2[0-4]¦1&#123;0,1&#125;[0-9])&#123;0,1&#125;[0-9]))</div></pre></td></tr></table></figure></p>
<h3 id="12-检查URL的前缀"><a href="#12-检查URL的前缀" class="headerlink" title="12. 检查URL的前缀"></a>12. 检查URL的前缀</h3><p>应用开发中很多时候需要区分请求是HTTPS还是HTTP，通过下面的表达式可以取出一个url的前缀然后再逻辑判断。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">if (!s.match(/^[a-zA-Z]+:\\/\\//))&#123; s = &apos;http://&apos; + s;&#125;</div></pre></td></tr></table></figure></p>
<h3 id="13-提取URL链接"><a href="#13-提取URL链接" class="headerlink" title="13. 提取URL链接"></a>13. 提取URL链接</h3><p>下面的这个表达式可以筛选出一段文本中的URL。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^(f¦ht)&#123;1&#125;(tp¦tps):\\/\\/([\\w-]+\\.)+[\\w-]+(\\/[\\w- ./?%&amp;=]*)?</div></pre></td></tr></table></figure></p>
<h3 id="14-文件路径及扩展名校验"><a href="#14-文件路径及扩展名校验" class="headerlink" title="14. 文件路径及扩展名校验"></a>14. 文件路径及扩展名校验</h3><p>验证文件路径和扩展名<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^([a-zA-Z]\\:¦\\\\)\\\\([^\\\\]+\\\\)*[^\\/:*?&quot;&lt;&gt;¦]+\\.txt(l)?$</div></pre></td></tr></table></figure></p>
<h3 id="15-提取Color-Hex-Codes"><a href="#15-提取Color-Hex-Codes" class="headerlink" title="15. 提取Color Hex Codes"></a>15. 提取Color Hex Codes</h3><p>有时需要抽取网页中的颜色代码，可以使用下面的表达式。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">#([a-fA-F]¦[0-9])&#123;3,6&#125;</div></pre></td></tr></table></figure></p>
<h3 id="16-提取网页图片"><a href="#16-提取网页图片" class="headerlink" title="16. 提取网页图片"></a>16. 提取网页图片</h3><p>假若你想提取网页中所有图片信息，可以利用下面的表达式.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt; *[img][^\\&gt;]*[src] *= *[\\&quot;\\&apos;]&#123;0,1&#125;([^\\&quot;\\&apos;\\ &gt;]*)</div></pre></td></tr></table></figure></p>
<h3 id="17-提取页面超链接"><a href="#17-提取页面超链接" class="headerlink" title="17. 提取页面超链接"></a>17. 提取页面超链接</h3><p>提取html中的超链接。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">(&lt;a\\s*(?!.*\\brel=)[^&gt;]*)(href=&quot;https?://)((?!(?:(?:www\\.)?&apos;.implode(&apos;¦(?:www\\.)?&apos;, $follow_list).&apos;))[^&quot;]+)&quot;((?!.*\\brel=)[^&gt;]*)(?:[^&gt;]*)&gt;</div></pre></td></tr></table></figure></p>
<h3 id="18-精炼CSS"><a href="#18-精炼CSS" class="headerlink" title="18. 精炼CSS"></a>18. 精炼CSS</h3><p>通过下面的表达式，可以搜索相同属性值的CSS，从而达到精炼代码的目的。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^\\s*[a-zA-Z\\-]+\\s*[:]&#123;1&#125;\\s[a-zA-Z0-9\\s.#]+[;]&#123;1&#125;</div></pre></td></tr></table></figure></p>
<h3 id="19-抽取注释"><a href="#19-抽取注释" class="headerlink" title="19. 抽取注释"></a>19. 抽取注释</h3><p>如果你需要移除HMTL中的注释，可以使用如下的表达式。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;!--(.*?)--&gt;</div></pre></td></tr></table></figure></p>
<h3 id="20-匹配HTML标签"><a href="#20-匹配HTML标签" class="headerlink" title="20. 匹配HTML标签"></a>20. 匹配HTML标签</h3><p>通过下面的表达式可以匹配出HTML中的标签。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">\\s]+))?)+\\s*¦\\s*)/?&gt;</div></pre></td></tr></table></figure></p>
<p>作者：头条号 / 乱世奇谈<br>链接：<a href="http://toutiao.com/a6275770184423489794/" target="_blank" rel="external">http://toutiao.com/a6275770184423489794/</a><br>来源：头条号（今日头条旗下创作平台）</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://itbugs.cn/2016/04/22/196/" data-id="cj4r5cq8e0005c3wyfurcp7yu" class="article-share-link">分享</a>
      
      
    </footer>
  </div>
  
</article>




  
    <article id="post-new-Site" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/03/27/new-Site/" class="article-date">
  <time class="post-time" datetime="2016-03-27T10:10:15.000Z" itemprop="datePublished">
    <span class="post-month">3月</span><br/>
    <span class="post-day">27</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/03/27/new-Site/">博客启用新域名啦啦啦啦啦～</a>
    </h1>
  

        <div>
          
  <div class="article-category">
    <a class="article-category-link" href="/categories/杂七杂八/">杂七杂八</a>
  </div>

          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>正式启用新域名 <a href="http://itbugs.cn">http://itbugs.cn</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://itbugs.cn/2016/03/27/new-Site/" data-id="cj4rvrgp30008zffyk27l756j" class="article-share-link">分享</a>
      
      
    </footer>
  </div>
  
</article>




  
    <article id="post-linux-shell" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/03/16/linux-shell/" class="article-date">
  <time class="post-time" datetime="2016-03-16T02:28:04.000Z" itemprop="datePublished">
    <span class="post-month">3月</span><br/>
    <span class="post-day">16</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/03/16/linux-shell/">日常 shell 命令汇总</a>
    </h1>
  

        <div>
          
  <div class="article-category">
    <a class="article-category-link" href="/categories/技术点滴/">技术点滴</a>
  </div>

          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>1.检查远程端口是否对bash开放：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">echo</span> &gt;/dev/tcp/8.8.8.8/53 &amp;&amp; <span class="built_in">echo</span> <span class="string">"open"</span></div></pre></td></tr></table></figure></p>
<p>2.让进程转入后台：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Ctrl + z</div></pre></td></tr></table></figure></p>
<p>3.将进程转到前台：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">fg</span></div></pre></td></tr></table></figure></p>
<p>4.产生随机的十六进制数，其中n是字符数：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">openssl rand -hex n</div></pre></td></tr></table></figure></p>
<p>5.在当前shell里执行一个文件里的命令：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">source</span> /home/user/file.name</div></pre></td></tr></table></figure></p>
<p>6.截取前5个字符：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="variable">$&#123;variable:0:5&#125;</span></div></pre></td></tr></table></figure></p>
<p>7.SSH debug 模式:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ssh -vvv user@ip_address</div></pre></td></tr></table></figure></p>
<p>8.SSH with pem key:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ssh user@ip_address -i key.pem</div></pre></td></tr></table></figure></p>
<p>9.用wget抓取完整的网站目录结构，存放到本地目录中：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">wget -r --no-parent --reject <span class="string">"index.html*"</span> http://hostname/ -P /home/user/<span class="built_in">dirs</span></div></pre></td></tr></table></figure></p>
<p>10.一次创建多个目录：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mkdir -p /home/user/&#123;<span class="built_in">test</span>,<span class="built_in">test</span>1,<span class="built_in">test</span>2&#125;</div></pre></td></tr></table></figure></p>
<p>11.列出包括子进程的进程树：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ps axwef</div></pre></td></tr></table></figure></p>
<p>12.创建 war 文件:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">jar -cvf name.war file</div></pre></td></tr></table></figure></p>
<p>13.测试硬盘写入速度：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">dd <span class="keyword">if</span>=/dev/zero of=/tmp/output.img bs=8k count=256k; rm -rf /tmp/output.img</div></pre></td></tr></table></figure></p>
<p>14.测试硬盘读取速度：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">hdparm -Tt /dev/sda</div></pre></td></tr></table></figure></p>
<p>15.获取文本的md5 hash：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">echo</span> -n <span class="string">"text"</span> | md5sum</div></pre></td></tr></table></figure></p>
<p>16.检查xml格式：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">xmllint --noout file.xml</div></pre></td></tr></table></figure></p>
<p>17.将tar.gz提取到新目录里：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">tar zxvf package.tar.gz -C new_dir</div></pre></td></tr></table></figure></p>
<p>18.使用curl获取HTTP头信息：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">curl -I http://www.example.com</div></pre></td></tr></table></figure></p>
<p>19.修改文件或目录的时间戳(YYMMDDhhmm):<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">touch -t 0712250000 file</div></pre></td></tr></table></figure></p>
<p>20.用wget命令执行ftp下载：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">wget -m ftp://username:password@hostname</div></pre></td></tr></table></figure></p>
<p>21.生成随机密码(例子里是16个字符长):<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">LANG=c &lt; /dev/urandom tr -dc _A-Z<span class="_">-a</span>-z-0-9 | head -c<span class="variable">$&#123;1:-16&#125;</span>;<span class="built_in">echo</span>;</div></pre></td></tr></table></figure></p>
<p>22.快速备份一个文件：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cp some_file_name&#123;,.bkp&#125;</div></pre></td></tr></table></figure></p>
<p>23.访问Windows共享目录：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">smbclient -U <span class="string">"DOMAIN\user"</span> //dc.domain.com/share/<span class="built_in">test</span>/dir</div></pre></td></tr></table></figure></p>
<p>24.执行历史记录里的命令(这里是第100行):<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">!100</div></pre></td></tr></table></figure></p>
<p>25.解压:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">unzip package_name.zip <span class="_">-d</span> dir_name</div></pre></td></tr></table></figure></p>
<p>26.输入多行文字(CTRL + d 退出):<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cat &gt; test.txt</div></pre></td></tr></table></figure></p>
<p>27.创建空文件或清空一个现有文件：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&gt; test.txt</div></pre></td></tr></table></figure></p>
<p>28.与Ubuntu NTP server同步时间：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ntpdate ntp.ubuntu.com</div></pre></td></tr></table></figure></p>
<p>29.用netstat显示所有tcp4监听端口：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">netstat -lnt4 | awk <span class="string">'&#123;print $4&#125;'</span> | cut <span class="_">-f</span>2 <span class="_">-d</span>: | grep -o <span class="string">'[0-9]*'</span></div></pre></td></tr></table></figure></p>
<p>30.qcow2镜像文件转换：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">qemu-img convert <span class="_">-f</span> qcow2 -O raw precise-server-cloudimg-amd64-disk1.img \precise-server-cloudimg-amd64-disk1.raw</div></pre></td></tr></table></figure></p>
<p>31.重复运行文件，显示其输出（缺省是2秒一次）：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">watch ps -ef</div></pre></td></tr></table></figure></p>
<p>32.所有用户列表：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">getent passwd</div></pre></td></tr></table></figure></p>
<p>33.Mount root in read/write mode:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mount -o remount,rw /</div></pre></td></tr></table></figure></p>
<p>34.挂载一个目录（这是不能使用链接的情况）:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mount --bind /<span class="built_in">source</span> /destination</div></pre></td></tr></table></figure></p>
<p>35.动态更新DNS server:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">nsupdate &lt; &lt;EOF update add <span class="variable">$HOST</span> 86400 A <span class="variable">$IP</span> send EOF</div></pre></td></tr></table></figure></p>
<p>36.递归grep所有目录：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">grep -r <span class="string">"some_text"</span> /path/to/dir</div></pre></td></tr></table></figure></p>
<p>37.列出前10个最大的文件：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">lsof / | awk <span class="string">'&#123; if($7 &gt; 1048576) print $7/1048576 "MB "$9 &#125;'</span> | sort -n -u | tail</div></pre></td></tr></table></figure></p>
<p>38.显示剩余内存(MB):<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">free -m | grep cache | awk <span class="string">'/[0-9]/&#123; print $4" MB" &#125;'</span></div></pre></td></tr></table></figure></p>
<p>39.打开Vim并跳到文件末：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">vim + some_file_name</div></pre></td></tr></table></figure></p>
<p>40.Git 克隆指定分支(master):<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git <span class="built_in">clone</span> git@github.com:name/app.git -b master</div></pre></td></tr></table></figure></p>
<p>41.Git 切换到其它分支(develop):<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git checkout develop</div></pre></td></tr></table></figure></p>
<p>42.Git 删除分支(myfeature):<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git branch <span class="_">-d</span> myfeature</div></pre></td></tr></table></figure></p>
<p>43.Git 删除远程分支<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git push origin :branchName</div></pre></td></tr></table></figure></p>
<p>44.Git 将新分支推送到远程服务器：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git push -u origin mynewfeature</div></pre></td></tr></table></figure></p>
<p>45.打印历史记录中最后一次cat命令：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">!cat:p</div></pre></td></tr></table></figure></p>
<p>46.运行历史记录里最后一次cat命令：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">!cat</div></pre></td></tr></table></figure></p>
<p>47.找出/home/user下所有空子目录:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">find /home/user -maxdepth 1 -type d -empty</div></pre></td></tr></table></figure></p>
<p>48.获取test.txt文件中第50-60行内容：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt; test.txt sed -n <span class="string">'50,60p'</span></div></pre></td></tr></table></figure></p>
<p>49.运行最后一个命令(如果最后一个命令是<code>mkdir /root/test</code>, 下面将会运行: <code>sudo mkdir /root/test</code>)：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo !!</div></pre></td></tr></table></figure></p>
<p>50.创建临时RAM文件系统 – ramdisk (先创建/tmpram目录):<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mount -t tmpfs tmpfs /tmpram -o size=512m</div></pre></td></tr></table></figure></p>
<p>51.Grep whole words:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">grep -w <span class="string">"name"</span> test.txt</div></pre></td></tr></table></figure></p>
<p>52.在需要提升权限的情况下往一个文件里追加文本：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">echo</span> <span class="string">"some text"</span> | sudo tee <span class="_">-a</span> /path/file</div></pre></td></tr></table></figure></p>
<p>53.列出所有kill signal参数:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">kill</span> <span class="_">-l</span></div></pre></td></tr></table></figure></p>
<p>54.在bash历史记录里禁止记录最后一次会话：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">kill</span> -9 $$</div></pre></td></tr></table></figure></p>
<p>55.扫描网络寻找开放的端口：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">nmap -p 8081 172.20.0.0/16</div></pre></td></tr></table></figure></p>
<p>56.设置git email:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git config --global user.email <span class="string">"me@example.com"</span></div></pre></td></tr></table></figure></p>
<p>57.To sync with master if you have unpublished commits:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git pull --rebase origin master</div></pre></td></tr></table></figure></p>
<p>58.将所有文件名中含有”txt”的文件移入/home/user目录:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">find -iname <span class="string">"*txt*"</span> -exec mv -v &#123;&#125; /home/user \;</div></pre></td></tr></table></figure></p>
<p>59.将文件按行并列显示：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">paste test.txt <span class="built_in">test</span>1.txt</div></pre></td></tr></table></figure></p>
<p>60.shell里的进度条:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pv data.log</div></pre></td></tr></table></figure></p>
<p>61.使用netcat将数据发送到Graphite server:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">echo</span> <span class="string">"hosts.sampleHost 10 `date +%s`"</span> | nc 192.168.200.2 3000</div></pre></td></tr></table></figure></p>
<p>62.将tabs转换成空格：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">expand test.txt &gt; <span class="built_in">test</span>1.txt</div></pre></td></tr></table></figure></p>
<p>63.Skip bash history:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt; space &gt;cmd</div></pre></td></tr></table></figure></p>
<p>64.去之前的工作目录：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">cd</span> -</div></pre></td></tr></table></figure></p>
<p>65.拆分大体积的tar.gz文件(每个100MB)，然后合并回去：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">split –b 100m /path/to/large/archive /path/to/output/files cat files* &gt; archive</div></pre></td></tr></table></figure></p>
<p>66.使用curl获取HTTP status code:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">curl <span class="_">-s</span>L -w <span class="string">"%&#123;http_code&#125;\\n"</span> www.example.com -o /dev/null</div></pre></td></tr></table></figure></p>
<p>67.设置root密码，强化MySQL安全安装:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/usr/bin/mysql_secure_installation</div></pre></td></tr></table></figure></p>
<p>68.当Ctrl + c不好使时:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Ctrl + \</div></pre></td></tr></table></figure></p>
<p>69.获取文件owner:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">stat</span> -c %U file.txt</div></pre></td></tr></table></figure></p>
<p>70.block设备列表：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">lsblk <span class="_">-f</span></div></pre></td></tr></table></figure></p>
<p>71.找出文件名结尾有空格的文件：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">find . -type f -exec egrep <span class="_">-l</span> <span class="string">" +$"</span> &#123;&#125; \;</div></pre></td></tr></table></figure></p>
<p>72.找出文件名有tab缩进符的文件<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">find . -type f -exec egrep <span class="_">-l</span> $<span class="string">'\t'</span> &#123;&#125; \;</div></pre></td></tr></table></figure></p>
<p>73.用”=”打印出横线:全选复制放进笔记<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">printf</span> <span class="string">'%100s\n'</span> | tr <span class="string">' '</span> =</div></pre></td></tr></table></figure></p>
</blockquote>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://itbugs.cn/2016/03/16/linux-shell/" data-id="cj4s4c3a300021tfym9o7by6i" class="article-share-link">分享</a>
      
      
    </footer>
  </div>
  
</article>




  
    <article id="post-e5-aerar" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/01/17/e5-aerar/" class="article-date">
  <time class="post-time" datetime="2016-01-17T03:28:08.000Z" itemprop="datePublished">
    <span class="post-month">1月</span><br/>
    <span class="post-day">17</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/01/17/e5-aerar/">右键rar</a>
    </h1>
  

        <div>
          
  <div class="article-category">
    <a class="article-category-link" href="/categories/杂七杂八/">杂七杂八</a>
  </div>

          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>将文件隐藏在图片中的方法 每个人都有自己的秘密，不过有些朋友却喜欢将秘密，以文件的形式放到电脑里，来供自己”欣赏”。虽然这些“秘密”放在电脑上大多都是加了密的，但是有些只能防止菜鸟破解，根本达不到真正隐藏的目的。<br>记得以前我想要隐藏哪个文件，只要右击其文件，选择“属性”选项，勾选上里面的“隐藏”复选框，就可很好的将其重要文件隐藏。可是现在随着人们电脑水平的逐步发展，有谁还不知道在“文件夹”选项里，勾选上“显示所有文件和文件夹”单选框，来查找隐藏文件。<br>因此我们需要使用其他方法来隐藏文件了，不如这里利用COPY命令来隐藏文件<br>首先我们需要找一张JPG格式的图片，然后找到并且右击你想要隐藏的秘密文件，选择“添加到压缩文件”选项，将其压缩成一个RAR的压缩文件。接着单击“开始”按钮，选择“运行”选项，在弹出的“运行”对话框内，输入“<code>CMD命令</code>”回车，就可打开“<code>CMD命令提示</code>”窗口。而后在“光标”闪烁处，输入命令将默认路径跳转到，刚才秘密文件和被压缩秘密文件目录下。假如这里秘密文件名为wenpeng.JPG，被压缩秘密文件名为wenpeng.RAR，我们在其光标闪烁处，输入“<code>COPY /B wenpeng.JPG+wenpeng.RAR 123.JPG</code>”命令回车后，此时你会发现该目录下，会多出一个<code>123.JPG</code>文件，并且体积大小整好是秘密文件、被压秘密文件之和。其主要原因很简单，无非就是<code>wenpeng.RAR</code><br>图片里也可以藏木马<br>知道了以上方法，黑鸟们可能会问了，能不能利用图片来藏马呢?答案当然是肯定的，这里你可以将木马文件添加到压缩文件内，然后再用上面所讲解的方法，将其生图片。而你千万不要小看这种隐藏木马的方法，它可以突破卡巴、金山等著名杀毒软件的监视。<br>由于图片藏木马的方法，和其之前隐藏秘密的方法大同小异，本文只想起到一个抛砖引玉的效果，希望大家通过此文能够发掘出更好的方法</p>
<p>转自红黑联盟 <a href="http://www.cnhonkerarmy.com/thread-198459-1-1.html" target="_blank" rel="external">http://www.cnhonkerarmy.com/thread-198459-1-1.html</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://itbugs.cn/2016/01/17/e5-aerar/" data-id="cj4rvs7m6000czffyb2bjxrb6" class="article-share-link">分享</a>
      
      
    </footer>
  </div>
  
</article>




  


  <nav id="page-nav">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/2/">next &raquo;</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    <div class="widget-wrap">
  <h3 class="widget-title"></h3>
  <div class="widget">
    <h1 class="blog-title">宇轩阁</h1>
    <h2 class="blog-subtitle">心语心寻-itbugs</h2>
    <ul class="blog-link">
     
          <a href="/" title="Home">
            <li>主页</li>
          </a>
        
          <a href="/archives" title="Archives">
            <li>归档</li>
          </a>
        
          <a href="/categories" title="Categories">
            <li>分类</li>
          </a>
        
          <a href="/tags" title="Tags">
            <li>标签</li>
          </a>
        
    </ul>
  </div>
</div>

  
    <div class="widget-wrap">
  <h3 class="widget-title"></h3>
  <div class="widget">
    <img class="avatar" src="https://shell.itbugs.cn/images/blog/qiuzhang.jpg">
    <h2 class="author">yuxuan</h2>
    <h3 class="description">不靠谱学长</h3>
    <div class="count-box">
      <a href="/archives"><div><strong>49</strong><br>文章</div></a>
      <a href="/categories"><div><strong>3</strong><br>分类</div></a>
      <a href="/tags"><div><strong>0</strong><br>标签</div></a>
    </div>



    <div class="social-link">
      
        <a class="hvr-bounce-in" href="https://github.com/yuxuangezhu" target="_blank" title="Github">
          Github
        </a>
      
    </div>

    <div class="friend-link">
      <h2>友情链接</h2>
      
        <a class="hvr-bounce-in" href="https://weixiaochu.cn/" target="_blank" title="A1ie2">
          A1ie2
        </a>
      
        <a class="hvr-bounce-in" href="https://tiantang-tt.github.io/" target="_blank" title="轻言">
          轻言
        </a>
      
    </div>
  </div>
</div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy;2016 - 2017 yuxuan<br>
      由<a href="http://hexo.io/" target="_blank">Hexo</a>强力驱动 | 
      主题-<a href="https://github.com/ShanaMaid/hexo-theme-shana">Shana</a>
      
    </div>
    
  </div>
</footer>
    </div>
    

<script src="//apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="//apps.bdimg.com/libs/wow/0.1.6/wow.min.js"></script>
<script>
new WOW().init();
</script>   




  <section class="hidden-xs"> 
  <ul class="cb-slideshow"> 
    <li><span>苟利</span></li> 
    <li><span>国家</span></li> 
    <li><span>生死以</span></li> 
    <li><span>岂能</span></li> 
    <li><span>祸福</span></li> 
    <li><span>趋避之</span></li> 
  </ul>
</section>
<script src="/js/script.js"></script>



  </div>
</body>
</html>